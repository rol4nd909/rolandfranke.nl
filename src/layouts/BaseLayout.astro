---
import '@styles/global.css'

import BaseHead from '@layouts/BaseHead.astro'
import NavHeader from '@/components/NavHeader.astro'

type Props = {
    title?: string
    description?: string
}

const { title, description } = Astro.props
---

<!doctype html>
<html lang="en">
    <BaseHead {title} {description} />

    <body nojs>
        <NavHeader />

        <slot name="hero" />

        <main class="grid">
            <slot />
        </main>
    </body>
</html>

<script>
    const originalTitle = document.title

    document.body.removeAttribute('nojs')

    document.addEventListener('visibilitychange', () => {
        document.hidden ? (document.title = 'Aw, Snap! ðŸ¤¯') : (document.title = originalTitle)
    })
</script>
