---
import '@styles/global.css'

import BaseHead from '@layouts/BaseHead.astro'
import NavHeader from '@/components/NavHeader.astro'
import SkipLink from '@/components/SkipLink.astro'

type Props = {
    title?: string
    description?: string
    ogType?: string
    image?: string
}

const { title, description, ogType, image } = Astro.props
---

<!doctype html>
<html lang="en">
    <BaseHead {title} {description} {ogType} {image} />

    <body nojs>
        <SkipLink>Skip to content</SkipLink>
        <NavHeader />

        <!-- <slot name="hero" /> -->

        <main class="grid" id="main">
            <slot name="hero" />
            <slot />
        </main>
    </body>
</html>

<script>
    const originalTitle = document.title

    document.body.removeAttribute('nojs')

    document.addEventListener('visibilitychange', () => {
        document.hidden ? (document.title = 'Aw, Snap! ðŸ¤¯') : (document.title = originalTitle)
    })
</script>
