---
import { type CollectionEntry } from 'astro:content'

import FormattedDate from '@components/ui/FormattedDate.astro'
import Badge from '@components/ui/Badge.astro'
import Link from '@components/ui/Link.astro'

type Props = {
    post: CollectionEntry<'posts'>
}

const { post } = Astro.props
const { title, description, image, pubDate, tags } = post.data
---

<article class="prose">
    <h2>
        <Link href={`/blog/${post.slug}`} set:html={title} />
    </h2>
    <FormattedDate {pubDate} />
    <div class="flex inline-wrap">
        {tags.map((tag) => <Badge label={tag.id} />)}
    </div>

    <p>{description}</p>

    <Link href={`/blog/${post.slug}`}>Read Post</Link>
</article>

<style>
    article {
        grid-column: xsmall;
        display: grid;
        gap: utopia.clamp(16, 32);

        + article {
            border-top: 1px solid var(--color-primary-400);
            padding-top: utopia.clamp(48, 96);
        }
    }

    h2 {
        font-size: var(--fs-3);
    }

    p {
        font-size: var(--fs-1);
    }
</style>
